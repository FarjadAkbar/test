(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8068:function(a,t,e){Promise.resolve().then(e.t.bind(e,6157,23)),Promise.resolve().then(e.t.bind(e,3716,23)),Promise.resolve().then(e.t.bind(e,2778,23)),Promise.resolve().then(e.bind(e,3238))},3238:function(a,t,e){"use strict";e.d(t,{TodoProvider:function(){return p},Z:function(){return y}});var n=e(7437),o=e(2265);let s="".concat("http://134.209.211.176:8001","/api/todos"),r=async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=await fetch("".concat(s,"?page=").concat(a));return await t.json()},c=async a=>{let t=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});return(await t.json()).data},i=async(a,t)=>{let e=await fetch("".concat(s,"/").concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return(await e.json()).data},l=async a=>{let t=await fetch("".concat(s,"/").concat(a),{method:"DELETE"});return(await t.json()).data},d={todos:[],currentPage:1,totalPages:0},_=(a,t)=>{switch(t.type){case"SET_TODOS":return{...a,todos:t.payload,totalPages:t.totalPages,currentPage:t.currentPage};case"ADD_TODO":return{...a,todos:[...a.todos,t.payload]};case"UPDATE_TODO":return{...a,todos:a.todos.map(a=>a.id===t.payload.id?t.payload:a)};case"DELETE_TODO":return{...a,todos:a.todos.filter(a=>a.id!==Number(t.payload))};case"SET_CURRENT_PAGE":return{...a,currentPage:t.payload};default:return a}},u=(0,o.createContext)(void 0),p=a=>{let{children:t}=a,[e,s]=(0,o.useReducer)(_,d);(0,o.useEffect)(()=>{(async()=>{let a=await r();s({type:"SET_TODOS",payload:a.data,totalPages:a.meta.last_page,currentPage:a.meta.current_page})})()},[]);let p=async a=>{s({type:"ADD_TODO",payload:await c(a)})},y=async a=>{s({type:"UPDATE_TODO",payload:await i(a.id,a)})},T=async a=>{await l(a),s({type:"DELETE_TODO",payload:a})},f=async a=>{s({type:"SET_CURRENT_PAGE",payload:a});let t=await r(a);s({type:"SET_TODOS",payload:t.data,totalPages:t.meta.last_page,currentPage:t.meta.current_page})};return(0,n.jsx)(u.Provider,{value:{state:e,addTodo:p,updateTodo:y,deleteTodo:T,paginate:f},children:t})};var y=u},2778:function(){},3716:function(a){a.exports={style:{fontFamily:"'__geistMono_c3aa02', '__geistMono_Fallback_c3aa02'"},className:"__className_c3aa02",variable:"__variable_c3aa02"}},6157:function(a){a.exports={style:{fontFamily:"'__geistSans_1e4310', '__geistSans_Fallback_1e4310'"},className:"__className_1e4310",variable:"__variable_1e4310"}}},function(a){a.O(0,[636,971,117,744],function(){return a(a.s=8068)}),_N_E=a.O()}]);