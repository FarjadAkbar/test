(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8068:function(a,t,e){Promise.resolve().then(e.t.bind(e,6157,23)),Promise.resolve().then(e.t.bind(e,3716,23)),Promise.resolve().then(e.t.bind(e,2778,23)),Promise.resolve().then(e.bind(e,3238))},3238:function(a,t,e){"use strict";e.d(t,{TodoProvider:function(){return y},Z:function(){return u}});var n=e(7437),o=e(2265);let r="".concat("http://134.209.211.176:8001","/api/todos"),s=async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,e=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=new URLSearchParams;t&&o.append("search",t),e&&o.append("status",e),n&&o.append("priority",n);let s=await fetch("".concat(r,"?page=").concat(a,"&").concat(o.toString()));return await s.json()},c=async a=>{let t=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});return(await t.json()).data},i=async(a,t)=>{let e=await fetch("".concat(r,"/").concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return(await e.json()).data},l=async a=>{let t=await fetch("".concat(r,"/").concat(a),{method:"DELETE"});return(await t.json()).data},d={todos:[],currentPage:1,totalPages:0,loading:!1},_=(a,t)=>{switch(t.type){case"SET_TODOS":return{...a,todos:t.payload,totalPages:t.totalPages,currentPage:t.currentPage};case"ADD_TODO":return{...a,todos:[...a.todos,t.payload]};case"UPDATE_TODO":return{...a,todos:a.todos.map(a=>a.id===t.payload.id?t.payload:a)};case"DELETE_TODO":return{...a,todos:a.todos.filter(a=>a.id!==Number(t.payload))};case"SET_CURRENT_PAGE":return{...a,currentPage:t.payload};case"SET_LOADING":return{...a,loading:t.payload};default:return a}},p=(0,o.createContext)(void 0),y=a=>{let{children:t}=a,[e,r]=(0,o.useReducer)(_,d),y=async(a,t,e,n)=>{r({type:"SET_LOADING",payload:!0});try{r({type:"SET_CURRENT_PAGE",payload:a});let o=await s(a,t,e,n);r({type:"SET_TODOS",payload:o.data,totalPages:o.meta.last_page,currentPage:o.meta.current_page})}finally{r({type:"SET_LOADING",payload:!1})}},u=async a=>{r({type:"ADD_TODO",payload:await c(a)}),y(e.currentPage)},T=async a=>{r({type:"UPDATE_TODO",payload:await i(a.id,a)})},g=async a=>{await l(a),r({type:"DELETE_TODO",payload:a})};return(0,n.jsx)(p.Provider,{value:{state:e,addTodo:u,updateTodo:T,deleteTodo:g,paginate:y},children:t})};var u=p},2778:function(){},3716:function(a){a.exports={style:{fontFamily:"'__geistMono_c3aa02', '__geistMono_Fallback_c3aa02'"},className:"__className_c3aa02",variable:"__variable_c3aa02"}},6157:function(a){a.exports={style:{fontFamily:"'__geistSans_1e4310', '__geistSans_Fallback_1e4310'"},className:"__className_1e4310",variable:"__variable_1e4310"}}},function(a){a.O(0,[636,971,117,744],function(){return a(a.s=8068)}),_N_E=a.O()}]);